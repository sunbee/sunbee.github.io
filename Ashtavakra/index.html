<!doctype html>

<html lang="en">
<head>
  <meta charset="utf-8">
  <link rel="stylesheet" href="/Styles/main.css">
  <title>Slideshow SPA</title>
  </script>
</head>

<body>
    <script>
        // Create an observer instance
        var observer = new MutationObserver( (mutations) => {
            mutations.forEach( (mutation) => {
                var newNodes = mutation.addedNodes; // DOM NodeList
                //alert("Detected DOM insertion: " + newNodes.length);
                if(newNodes !== undefined && newNodes.length > 0) { // If there are new nodes added
                    newNodes.forEach( (newNode) => {
                        var description = "name: " + newNode.nodeName;
                        if (newNode.id) {
                            description += " | ID: " + newNode.id;
                        }
                        alert("EACH:  " + description);
                    });
                }
            });
            alert(document.getElementById("Expected").getAttributeNames());
        });

        // Configuration of the observer:
        var config = { 
            attributes: true, 
            childList: true, 
            subtree: true 
        };

        document.addEventListener('DOMContentLoaded', () => {
            var plug = "Howdy, WebViewer!";
            var appInventor = window.AppInventor; 
            if (appInventor) { // Do this when js is processed in AppInventor.
                plug = window.AppInventor.getWebViewString();
            } 

            // The node to be monitored
            var target = document.getElementById("Question"); /// The node to be monitored
            // Pass in the target node, as well as the observer options
            observer.observe(target, config);            

            document.getElementById("Question").innerHTML = plug;


        }); 
    </script>
    <div id="Slide">
        <div id="Header"><h1>Quiz Time!</h1></div>
        <div id="Question"></div>
        <div id="Controls"></div>
    </div>

</body>
</html>